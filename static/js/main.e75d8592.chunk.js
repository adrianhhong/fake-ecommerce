(this["webpackJsonpfake-ecommerce"]=this["webpackJsonpfake-ecommerce"]||[]).push([[0],{134:function(e,t,n){"use strict";n.r(t);var a=n(45),r=n.n(a),c=n(25),i=n(16),s=n.n(i),o=n(29),l=n(13),u=n(68),d=n(69),j={url:"https://fakestoreapi.com"},b=new(function(){function e(t){Object(u.a)(this,e),this.url=void 0,this.url=t}return Object(d.a)(e,[{key:"getProducts",value:function(){var e=Object(o.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(this.url,"/products"),{method:"GET"});case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"getCart",value:function(){var e=Object(o.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(this.url,"/carts/").concat(t),{method:"GET"});case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getProfile",value:function(){var e=Object(o.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(this.url,"/users/").concat(t),{method:"GET"});case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"patchProfile",value:function(){var e=Object(o.a)(s.a.mark((function e(t,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(this.url,"/users/").concat(t),{method:"PATCH",body:JSON.stringify(n),headers:new Headers({"content-type":"application/json"})});case 3:return a=e.sent,e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}()}]),e}())(j.url),x=n(199),h=n(201),O=n(202),f=n(203),p=n(197),m=n(192),v=n(1),g=function(e){var t=e.item;return Object(v.jsxs)(x.a,{sx:{height:600,p:1,border:2,borderColor:"#ddd",borderRadius:"2%",boxShadow:"none"},children:[Object(v.jsx)(h.a,{display:"flex",justifyContent:"center",alignItems:"center",children:Object(v.jsx)(O.a,{component:"img",image:t.image,alt:t.title,sx:{width:"auto",maxHeight:"300px"}})}),Object(v.jsxs)(f.a,{children:[Object(v.jsxs)(p.a,{gutterBottom:!0,variant:"h6",component:"div",children:["$",t.price]}),Object(v.jsx)(p.a,{gutterBottom:!0,variant:"h6",component:"div",sx:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical"},children:t.title}),Object(v.jsx)(p.a,{variant:"body2",color:"text.secondary",sx:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical"},children:t.description}),Object(v.jsx)(m.a,{label:t.category,variant:"outlined",sx:{mt:1}})]})]})},y=n(198),w=n(97),C=n.n(w),k=n(43),S=function(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(k.b,{to:"/",children:Object(v.jsx)(y.a,{size:"large",edge:"start",color:"secondary",sx:{mr:2},children:Object(v.jsx)(C.a,{})})}),Object(v.jsx)(p.a,{variant:"h6",component:"div",sx:{flexGrow:1,overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:1,WebkitBoxOrient:"vertical"},children:"Fake E-commerce Site"})]})},z=n(204),B=n(205),W=n(189),I=n(99),E=n.n(I),P=n(98),T=n.n(P),L=function(e){var t=e.cartItems,n=e.clickCart;return Object(v.jsx)(h.a,{sx:{flexGrow:1},children:Object(v.jsx)(z.a,{position:"static",children:Object(v.jsxs)(B.a,{children:[Object(v.jsx)(S,{}),Object(v.jsx)(k.b,{to:"/profile",children:Object(v.jsx)(y.a,{size:"large",edge:"start",color:"default",children:Object(v.jsx)(T.a,{})})}),Object(v.jsxs)(y.a,{size:"large",edge:"start",color:"default",sx:{ml:1},onClick:n,children:[Object(v.jsx)(W.a,{badgeContent:t,color:"secondary"}),Object(v.jsx)(E.a,{})]})]})})})},G=function(e){var t=e.item;return Object(v.jsx)("div",{children:Object(v.jsxs)(x.a,{sx:{height:{xs:460,md:400},width:{xs:230,md:400},mt:1,p:1,border:2,borderColor:"#ddd",borderRadius:"2%",boxShadow:"none"},children:[Object(v.jsx)(h.a,{display:"flex",justifyContent:"center",alignItems:"center",children:Object(v.jsx)(O.a,{component:"img",sx:{width:"auto",maxHeight:"200px"},image:t.image,alt:t.title})}),Object(v.jsxs)(f.a,{children:[Object(v.jsxs)(p.a,{gutterBottom:!0,variant:"h6",component:"div",children:["$",t.price]}),Object(v.jsx)(p.a,{gutterBottom:!0,variant:"h5",component:"div",children:t.title}),Object(v.jsxs)(p.a,{gutterBottom:!0,variant:"h6",component:"div",align:"left",children:["Quantity: ",t.quantity]}),Object(v.jsx)(p.a,{gutterBottom:!0,variant:"h6",component:"div",align:"right",children:Object(v.jsxs)("b",{children:[" SUBTOTAL: $",t.quantity*t.price," "]})})]})]})})},q=function(e){var t=e.cartItems;return Object(v.jsxs)(h.a,{sx:{p:1},children:[Object(v.jsx)(p.a,{gutterBottom:!0,variant:"h4",component:"div",children:"Shopping Cart"}),0===(null===t||void 0===t?void 0:t.length)?Object(v.jsx)("p",{children:"You have no items."}):null,null===t||void 0===t?void 0:t.map((function(e){return Object(v.jsx)(G,{item:e},e.id)}))]})},F=n(206),H=n(207),R=n(185),A=function(e){var t=e.categories,n=e.onCheckboxChange;return Object(v.jsx)("div",{children:Object(v.jsx)(F.a,{children:t.map((function(e){return Object(v.jsx)(H.a,{control:Object(v.jsx)(R.a,{onChange:n,value:e.category}),label:e.category},e.category)}))})})},D=n(190),N=n(100),J=n.n(N),U=function(e){var t=e.onSearchChange;return Object(v.jsx)("div",{children:Object(v.jsxs)(h.a,{sx:{display:"flex",paddingLeft:"20px",paddingRight:"20px",marginTop:"5px",marginBottom:"5px"},children:[Object(v.jsx)(J.a,{sx:{alignSelf:"flex-end",marginBottom:"5px"}}),Object(v.jsx)(D.a,{sx:{width:"200px",margin:"5px"},onChange:t,label:"Search",variant:"standard"})]})})},$=n(0),Q=n(191),Y=n(187),Z=n(210),K=n(182),M=function(e){var t=e.sortBy,n=e.onSortChange;return Object(v.jsx)(h.a,{sx:{maxWidth:300},children:Object(v.jsxs)(Z.a,{fullWidth:!0,children:[Object(v.jsx)(Q.a,{children:"Sort By"}),Object(v.jsxs)(K.a,{value:t,label:"Sort By",onChange:n,children:[Object(v.jsx)(Y.a,{value:"default",children:"Default"}),Object(v.jsx)(Y.a,{value:"priceAsc",children:"Price: Low to high"}),Object(v.jsx)(Y.a,{value:"priceDes",children:"Price: High to low"})]})]})})},V=n(211),X=n(194),_=n(195),ee=n(101),te=n.n(ee),ne=function(){var e=Object($.useState)([]),t=Object(l.a)(e,2),n=t[0],a=t[1],r=Object($.useState)(!1),i=Object(l.a)(r,2),u=i[0],d=i[1],j=Object($.useState)({}),O=Object(l.a)(j,2),f=O[0],m=O[1],w=Object($.useState)([]),C=Object(l.a)(w,2),k=C[0],S=C[1],z=Object($.useState)([]),B=Object(l.a)(z,2),W=B[0],I=B[1],E=Object($.useState)([]),P=Object(l.a)(E,2),T=P[0],G=P[1],F=Object($.useState)(!1),H=Object(l.a)(F,2),R=H[0],D=H[1],N=Object($.useState)(!1),J=Object(l.a)(N,2),Q=J[0],Y=J[1],Z=Object($.useState)(""),K=Object(l.a)(Z,2),ee=K[0],ne=K[1],ae=Object($.useState)("default"),re=Object(l.a)(ae,2),ce=re[0],ie=re[1],se=Object($.useState)(!1),oe=Object(l.a)(se,2),le=oe[0],ue=oe[1];Object($.useEffect)((function(){D(!0),function(){var e=Object(o.a)(s.a.mark((function e(){var t,n,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.getProducts();case 2:null!=(t=e.sent)&&a(t),null!=(n=null===t||void 0===t?void 0:t.map((function(e){return e.category})))&&(r=n.filter((function(e,t,n){return n.indexOf(e)===t})),c=r.map((function(e){return{category:e,isSelected:!1}})),I(c)),D(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]);var de=function(){var e=Object(o.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Y(!0),e.next=3,b.getCart(1);case 3:null!=(t=e.sent)&&m(t),Y(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object($.useEffect)((function(){!function(){var e=Object(o.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:de();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]),Object($.useEffect)((function(){var e,t=null===f||void 0===f||null===(e=f.products)||void 0===e?void 0:e.map((function(e){var t=n.find((function(t){return t.id===e.productId}));return null!=t?Object(c.a)(Object(c.a)({},t),{},{quantity:e.quantity}):{id:0,title:"",price:0,category:"",description:"",image:"",quantity:0}}));S(t)}),[n,f]);return Object($.useEffect)((function(){var e=null===W||void 0===W?void 0:W.filter((function(e){return e.isSelected})),t=n;(null===e||void 0===e?void 0:e.length)&&(t=n.filter((function(t){return e.some((function(e){return e.category===t.category}))})));var a=t.filter((function(e){return e.title.toLowerCase().includes(ee)}));"priceAsc"===ce&&a.sort((function(e,t){return e.price-t.price})),"priceDes"===ce&&a.sort((function(e,t){return t.price-e.price})),G(a)}),[n,W,ee,ce]),Object(v.jsxs)("div",{children:[Object(v.jsx)(L,{cartItems:null===k||void 0===k?void 0:k.length,clickCart:function(){de(),d(!0)}}),R&&Object(v.jsx)(h.a,{sx:{width:"100%"},children:Object(v.jsx)(V.a,{})}),Object(v.jsxs)(X.a,{anchor:"right",open:u,onClose:function(){return d(!1)},children:[Q&&Object(v.jsx)(h.a,{sx:{width:"100%"},children:Object(v.jsx)(V.a,{})}),Object(v.jsx)(q,{cartItems:k})]}),Object(v.jsxs)(_.a,{container:!0,spacing:{xs:2},display:"flex",justifyContent:"space-between",alignItems:"center",sx:{m:2},children:[Object(v.jsxs)(_.a,{item:!0,xs:12,sm:6,md:6,lg:6,xl:6,children:[Object(v.jsxs)(h.a,{display:"flex",justifyContent:"start",alignItems:"center",sx:{m:2},children:[Object(v.jsx)(y.a,{sx:{ml:1,mt:2},size:"large",edge:"start",color:"default",onClick:function(){return ue(!le)},children:Object(v.jsx)(te.a,{})}),Object(v.jsx)(U,{onSearchChange:function(e){ne(e.target.value.trim().toLowerCase())}})]}),Object(v.jsxs)(x.a,{sx:{p:3,display:le?"content":"none",position:"absolute",backgroundColor:"#fff",border:2,borderColor:"#ddd",borderRadius:"2%",top:"140px",left:"57px",zIndex:100},children:[Object(v.jsx)(p.a,{variant:"subtitle1",component:"div",sx:{flexGrow:1},children:"Categories"}),Object(v.jsx)(A,{categories:W,onCheckboxChange:function(e){var t=W.map((function(t){return t.category===e.target.value?Object(c.a)(Object(c.a)({},t),{},{isSelected:e.target.checked}):t}));I(t)}})]})]}),Object(v.jsx)(_.a,{item:!0,xs:12,sm:6,md:6,lg:6,xl:6,children:Object(v.jsx)(h.a,{display:"flex",justifyContent:"end",alignItems:"center",sx:{mr:2},children:Object(v.jsx)(M,{sortBy:ce,onSortChange:function(e){ie(e.target.value)}})})})]}),Object(v.jsx)(h.a,{sx:{pl:2,pr:2},children:Object(v.jsx)(_.a,{container:!0,spacing:{xs:2},children:null===T||void 0===T?void 0:T.map((function(e,t){return Object(v.jsx)(_.a,{item:!0,xs:12,sm:6,md:4,lg:3,xl:3,children:Object(v.jsx)(g,{item:e})},t)}))})})]})},ae=n(3),re=n(212),ce=n(186),ie=n(102),se=n.n(ie),oe=n(103),le=n.n(oe),ue=function(){var e={id:0,email:"",username:"",password:"",name:{firstname:"",lastname:""},address:{city:"",street:"",number:0,zipcode:"",geolocation:{lat:"",long:""}},phone:""},t=Object($.useState)(e),n=Object(l.a)(t,2),a=n[0],r=n[1],i=Object($.useState)(e),u=Object(l.a)(i,2),d=u[0],j=u[1],x=Object($.useState)(!1),O=Object(l.a)(x,2),f=O[0],m=O[1],g=Object($.useState)(!1),w=Object(l.a)(g,2),C=w[0],W=w[1],I=Object($.useState)(!1),E=Object(l.a)(I,2),P=E[0],T=E[1],L=Object($.useState)(""),G=Object(l.a)(L,2),q=G[0],F=G[1];function H(){return R.apply(this,arguments)}function R(){return(R=Object(o.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return W(!0),e.next=3,b.getProfile(1);case 3:null!=(t=e.sent)&&(r(t),j(t)),W(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object($.useEffect)((function(){!function(){var e=Object(o.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]);var A=function(e){r(Object(c.a)(Object(c.a)({},a),{},Object(ae.a)({},e.target.name,e.target.value)))},N=function(e){r(Object(c.a)(Object(c.a)({},a),{},{name:Object(c.a)(Object(c.a)({},a.name),{},Object(ae.a)({},e.target.name,e.target.value))}))},J=function(e){r(Object(c.a)(Object(c.a)({},a),{},{address:Object(c.a)(Object(c.a)({},a.address),{},Object(ae.a)({},e.target.name,e.target.value))}))},U=function(){var e=Object(o.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.patchProfile(1,a);case 2:e.sent&&(F("Updated profile (does not actually change database)."),T(!0)),H(),m(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(e,t){"clickaway"!==t&&T(!1)},Y=Object(v.jsx)($.Fragment,{children:Object(v.jsx)(y.a,{size:"small","aria-label":"close",color:"inherit",onClick:Q,children:Object(v.jsx)(se.a,{fontSize:"small"})})});return Object(v.jsxs)("div",{children:[Object(v.jsx)(h.a,{sx:{flexGrow:1},children:Object(v.jsx)(z.a,{position:"static",children:Object(v.jsx)(B.a,{children:Object(v.jsx)(S,{})})})}),C&&Object(v.jsx)(h.a,{sx:{width:"100%"},children:Object(v.jsx)(V.a,{})}),Object(v.jsx)(h.a,{display:"flex",justifyContent:"center",alignItems:"center",children:Object(v.jsxs)(h.a,{sx:{width:"90%",m:5},children:[Object(v.jsx)(k.b,{to:"/",style:{textDecoration:"none"},children:Object(v.jsxs)(re.a,{variant:"extended",size:"medium",color:"secondary","aria-label":"add",sx:{mb:4,textTransform:"capitalize",boxShadow:"none"},children:[Object(v.jsx)(le.a,{sx:{mr:1}}),"Return"]})}),Object(v.jsx)(p.a,{gutterBottom:!0,variant:"h3",component:"div",children:"Profile"}),Object(v.jsx)(D.a,{onChange:N,id:"firstname",label:"First Name",name:"firstname",value:a.name.firstname,variant:"outlined",disabled:!f,fullWidth:!0,sx:{mb:2}}),Object(v.jsx)(D.a,{onChange:N,id:"lastname",label:"Last Name",name:"lastname",value:a.name.lastname,variant:"outlined",disabled:!f,fullWidth:!0,sx:{mb:2}}),Object(v.jsx)(D.a,{onChange:A,id:"email",label:"Email",name:"email",value:a.email,variant:"outlined",disabled:!f,fullWidth:!0,sx:{mb:2}}),Object(v.jsx)(D.a,{onChange:A,id:"username",label:"Username",name:"username",value:a.username,variant:"outlined",disabled:!f,fullWidth:!0,sx:{mb:2}}),Object(v.jsx)(D.a,{onChange:A,id:"password",label:"Password",name:"password",value:a.password,variant:"outlined",disabled:!f,fullWidth:!0,sx:{mb:2}}),Object(v.jsx)(D.a,{onChange:J,id:"number",label:"Number",name:"number",value:a.address.number,variant:"outlined",disabled:!f,fullWidth:!0,sx:{mb:2}}),Object(v.jsx)(D.a,{onChange:J,id:"street",label:"Street",name:"street",value:a.address.street,variant:"outlined",disabled:!f,fullWidth:!0,sx:{mb:2}}),Object(v.jsx)(D.a,{onChange:J,id:"city",label:"City",name:"city",value:a.address.city,variant:"outlined",disabled:!f,fullWidth:!0,sx:{mb:2}}),Object(v.jsx)(D.a,{onChange:J,id:"zipcode",label:"Zipcode",name:"zipcode",value:a.address.zipcode,variant:"outlined",disabled:!f,fullWidth:!0,sx:{mb:2}}),!f&&!C&&Object(v.jsx)(re.a,{variant:"extended",size:"medium",color:"primary","aria-label":"add",sx:{textTransform:"capitalize",boxShadow:"none"},onClick:function(){return m(!0)},children:"Edit"}),f&&!C&&Object(v.jsx)(re.a,{variant:"extended",size:"medium",color:"primary","aria-label":"add",sx:{mr:2,textTransform:"capitalize",boxShadow:"none"},onClick:U,children:"Save"}),f&&!C&&Object(v.jsx)(re.a,{variant:"extended",size:"medium","aria-label":"add",sx:{textTransform:"capitalize",boxShadow:"none"},onClick:function(){r(d),m(!1)},children:"Cancel"})]})}),Object(v.jsx)(ce.a,{open:P,onClose:Q,message:q,action:Y})]})},de=n(17),je=n(104),be=n(196),xe=Object(je.a)({palette:{primary:{main:"#5a6283"},secondary:{main:"#ffcdd5"}},typography:{fontFamily:"Inter"}});function he(){return Object(v.jsx)(be.a,{theme:xe,children:Object(v.jsx)(k.a,{children:Object(v.jsxs)(de.c,{children:[Object(v.jsx)(de.a,{exact:!0,path:"/",children:Object(v.jsx)(ne,{})}),Object(v.jsx)(de.a,{exact:!0,path:"/profile",children:Object(v.jsx)(ue,{})})]})})})}r.a.render(Object(v.jsx)(he,{}),document.getElementById("root"))}},[[134,1,2]]]);
//# sourceMappingURL=main.e75d8592.chunk.js.map