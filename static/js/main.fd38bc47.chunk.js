(this["webpackJsonpfake-ecommerce"]=this["webpackJsonpfake-ecommerce"]||[]).push([[0],{133:function(e,t,n){"use strict";n.r(t);var a=n(45),r=n.n(a),c=n(25),i=n(16),s=n.n(i),o=n(29),l=n(13),u=n(68),d=n(69),j={url:"https://fakestoreapi.com"},b=new(function(){function e(t){Object(u.a)(this,e),this.url=void 0,this.url=t}return Object(d.a)(e,[{key:"getProducts",value:function(){var e=Object(o.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(this.url,"/products"),{method:"GET"});case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"getCart",value:function(){var e=Object(o.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(this.url,"/carts/").concat(t),{method:"GET"});case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getProfile",value:function(){var e=Object(o.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(this.url,"/users/").concat(t),{method:"GET"});case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"patchProfile",value:function(){var e=Object(o.a)(s.a.mark((function e(t,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(this.url,"/users/").concat(t),{method:"PATCH",body:JSON.stringify(n),headers:new Headers({"content-type":"application/json"})});case 3:return a=e.sent,e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}()}]),e}())(j.url),x=n(198),h=n(200),O=n(201),f=n(202),p=n(196),m=n(191),v=n(2),g=function(e){var t=e.item;return Object(v.jsxs)(x.a,{sx:{height:600,p:1,border:2,borderColor:"#ddd",borderRadius:"2%",boxShadow:"none"},children:[Object(v.jsx)(h.a,{display:"flex",justifyContent:"center",alignItems:"center",children:Object(v.jsx)(O.a,{component:"img",image:t.image,alt:t.title,sx:{width:"auto",maxHeight:"300px"}})}),Object(v.jsxs)(f.a,{children:[Object(v.jsxs)(p.a,{gutterBottom:!0,variant:"h6",component:"div",children:["$",t.price]}),Object(v.jsx)(p.a,{gutterBottom:!0,variant:"h6",component:"div",sx:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical"},children:t.title}),Object(v.jsx)(p.a,{variant:"body2",color:"text.secondary",sx:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical"},children:t.description}),Object(v.jsx)(m.a,{label:t.category,variant:"outlined",sx:{mt:1}})]})]})},y=n(197),w=n(97),C=n.n(w),S=n(40),k=function(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(S.c,{to:"/",children:Object(v.jsx)(y.a,{size:"large",edge:"start",color:"secondary",sx:{mr:2},children:Object(v.jsx)(C.a,{})})}),Object(v.jsx)(p.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Fake E-commerce Site"})]})},B=n(203),z=n(204),W=n(188),E=n(99),T=n.n(E),I=n(98),P=n.n(I),L=function(e){var t=e.cartItems,n=e.clickCart;return Object(v.jsx)(h.a,{sx:{flexGrow:1},children:Object(v.jsx)(B.a,{position:"static",children:Object(v.jsxs)(z.a,{children:[Object(v.jsx)(k,{}),Object(v.jsx)(S.c,{to:"/profile",children:Object(v.jsx)(y.a,{size:"large",edge:"start",color:"default",children:Object(v.jsx)(P.a,{})})}),Object(v.jsxs)(y.a,{size:"large",edge:"start",color:"default",sx:{ml:1},onClick:n,children:[Object(v.jsx)(W.a,{badgeContent:t,color:"secondary"}),Object(v.jsx)(T.a,{})]})]})})})},G=function(e){var t=e.item;return Object(v.jsx)("div",{children:Object(v.jsxs)(x.a,{sx:{height:400,width:400,mt:3,p:1,border:2,borderColor:"#ddd",borderRadius:"2%",boxShadow:"none"},children:[Object(v.jsx)(h.a,{display:"flex",justifyContent:"center",alignItems:"center",children:Object(v.jsx)(O.a,{component:"img",sx:{width:"auto",maxHeight:"200px"},image:t.image,alt:t.title})}),Object(v.jsxs)(f.a,{children:[Object(v.jsxs)(p.a,{gutterBottom:!0,variant:"h6",component:"div",children:["$",t.price]}),Object(v.jsx)(p.a,{gutterBottom:!0,variant:"h5",component:"div",children:t.title}),Object(v.jsxs)(p.a,{gutterBottom:!0,variant:"h6",component:"div",align:"left",children:["Quantity: ",t.quantity]}),Object(v.jsx)(p.a,{gutterBottom:!0,variant:"h6",component:"div",align:"right",children:Object(v.jsxs)("b",{children:[" SUBTOTAL: $",t.quantity*t.price," "]})})]})]})})},q=function(e){var t=e.cartItems;return Object(v.jsxs)("div",{style:{padding:"30px"},children:[Object(v.jsx)(p.a,{gutterBottom:!0,variant:"h4",component:"div",children:"Shopping Cart"}),0===(null===t||void 0===t?void 0:t.length)?Object(v.jsx)("p",{children:"You have no items."}):null,null===t||void 0===t?void 0:t.map((function(e){return Object(v.jsx)(G,{item:e},e.id)}))]})},F=n(205),H=n(206),N=n(184),A=function(e){var t=e.categories,n=e.onCheckboxChange;return Object(v.jsx)("div",{children:Object(v.jsx)(F.a,{children:t.map((function(e){return Object(v.jsx)(H.a,{control:Object(v.jsx)(N.a,{onChange:n,value:e.category}),label:e.category},e.category)}))})})},D=n(189),J=n(100),R=n.n(J),$=function(e){var t=e.onSearchChange;return Object(v.jsx)("div",{children:Object(v.jsxs)(h.a,{sx:{display:"flex",paddingLeft:"20px",paddingRight:"20px",marginTop:"5px",marginBottom:"5px"},children:[Object(v.jsx)(R.a,{sx:{alignSelf:"flex-end",marginBottom:"5px"}}),Object(v.jsx)(D.a,{sx:{width:"200px",margin:"5px"},onChange:t,label:"Search",variant:"standard"})]})})},U=n(0),Q=n(190),Y=n(186),Z=n(209),K=n(181),M=function(e){var t=e.sortBy,n=e.onSortChange;return Object(v.jsx)(h.a,{sx:{minWidth:120},children:Object(v.jsxs)(Z.a,{fullWidth:!0,children:[Object(v.jsx)(Q.a,{children:"Sort By"}),Object(v.jsxs)(K.a,{value:t,label:"Sort By",onChange:n,children:[Object(v.jsx)(Y.a,{value:"default",children:"Default"}),Object(v.jsx)(Y.a,{value:"priceAsc",children:"Price: Low to high"}),Object(v.jsx)(Y.a,{value:"priceDes",children:"Price: High to low"})]})]})})},V=n(210),X=n(193),_=n(194),ee=function(){var e=Object(U.useState)([]),t=Object(l.a)(e,2),n=t[0],a=t[1],r=Object(U.useState)(!1),i=Object(l.a)(r,2),u=i[0],d=i[1],j=Object(U.useState)({}),x=Object(l.a)(j,2),O=x[0],f=x[1],m=Object(U.useState)([]),y=Object(l.a)(m,2),w=y[0],C=y[1],S=Object(U.useState)([]),k=Object(l.a)(S,2),B=k[0],z=k[1],W=Object(U.useState)([]),E=Object(l.a)(W,2),T=E[0],I=E[1],P=Object(U.useState)(!1),G=Object(l.a)(P,2),F=G[0],H=G[1],N=Object(U.useState)(!1),D=Object(l.a)(N,2),J=D[0],R=D[1],Q=Object(U.useState)(""),Y=Object(l.a)(Q,2),Z=Y[0],K=Y[1],ee=Object(U.useState)("default"),te=Object(l.a)(ee,2),ne=te[0],ae=te[1];Object(U.useEffect)((function(){H(!0),function(){var e=Object(o.a)(s.a.mark((function e(){var t,n,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.getProducts();case 2:null!=(t=e.sent)&&a(t),null!=(n=null===t||void 0===t?void 0:t.map((function(e){return e.category})))&&(r=n.filter((function(e,t,n){return n.indexOf(e)===t})),c=r.map((function(e){return{category:e,isSelected:!1}})),z(c)),H(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]);var re=function(){var e=Object(o.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),e.next=3,b.getCart(1);case 3:null!=(t=e.sent)&&f(t),R(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(U.useEffect)((function(){!function(){var e=Object(o.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:re();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]),Object(U.useEffect)((function(){var e,t=null===O||void 0===O||null===(e=O.products)||void 0===e?void 0:e.map((function(e){var t=n.find((function(t){return t.id===e.productId}));return null!=t?Object(c.a)(Object(c.a)({},t),{},{quantity:e.quantity}):{id:0,title:"",price:0,category:"",description:"",image:"",quantity:0}}));C(t)}),[n,O]);return Object(U.useEffect)((function(){var e=null===B||void 0===B?void 0:B.filter((function(e){return e.isSelected})),t=n;(null===e||void 0===e?void 0:e.length)&&(t=n.filter((function(t){return e.some((function(e){return e.category===t.category}))})));var a=t.filter((function(e){return e.title.toLowerCase().includes(Z)}));"priceAsc"===ne&&a.sort((function(e,t){return e.price-t.price})),"priceDes"===ne&&a.sort((function(e,t){return t.price-e.price})),I(a)}),[n,B,Z,ne]),Object(v.jsxs)("div",{children:[Object(v.jsx)(L,{cartItems:null===w||void 0===w?void 0:w.length,clickCart:function(){re(),d(!0)}}),F&&Object(v.jsx)(h.a,{sx:{width:"100%"},children:Object(v.jsx)(V.a,{})}),Object(v.jsxs)(X.a,{anchor:"right",open:u,onClose:function(){return d(!1)},children:[J&&Object(v.jsx)(h.a,{sx:{width:"100%"},children:Object(v.jsx)(V.a,{})}),Object(v.jsx)(q,{cartItems:w})]}),Object(v.jsxs)(h.a,{display:"flex",justifyContent:"end",alignItems:"center",sx:{m:2},children:[Object(v.jsx)($,{onSearchChange:function(e){K(e.target.value.trim().toLowerCase())}})," ",Object(v.jsx)(M,{sortBy:ne,onSortChange:function(e){ae(e.target.value)}})]}),Object(v.jsxs)(h.a,{display:"flex",justifyContent:"end",sx:{m:2},children:[Object(v.jsxs)(h.a,{sx:{width:"15%"},children:[Object(v.jsx)(p.a,{variant:"subtitle1",component:"div",sx:{flexGrow:1},children:"Categories"}),Object(v.jsx)(A,{categories:B,onCheckboxChange:function(e){var t=B.map((function(t){return t.category===e.target.value?Object(c.a)(Object(c.a)({},t),{},{isSelected:e.target.checked}):t}));z(t)}})]}),Object(v.jsx)(_.a,{container:!0,spacing:{xs:2},children:null===T||void 0===T?void 0:T.map((function(e,t){return Object(v.jsx)(_.a,{item:!0,xs:12,sm:6,md:4,lg:3,xl:3,children:Object(v.jsx)(g,{item:e})},t)}))})]})]})},te=n(3),ne=n(211),ae=n(185),re=n(101),ce=n.n(re),ie=n(102),se=n.n(ie),oe=function(){var e={id:0,email:"",username:"",password:"",name:{firstname:"",lastname:""},address:{city:"",street:"",number:0,zipcode:"",geolocation:{lat:"",long:""}},phone:""},t=Object(U.useState)(e),n=Object(l.a)(t,2),a=n[0],r=n[1],i=Object(U.useState)(e),u=Object(l.a)(i,2),d=u[0],j=u[1],x=Object(U.useState)(!1),O=Object(l.a)(x,2),f=O[0],m=O[1],g=Object(U.useState)(!1),w=Object(l.a)(g,2),C=w[0],W=w[1],E=Object(U.useState)(!1),T=Object(l.a)(E,2),I=T[0],P=T[1],L=Object(U.useState)(""),G=Object(l.a)(L,2),q=G[0],F=G[1];function H(){return N.apply(this,arguments)}function N(){return(N=Object(o.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return W(!0),e.next=3,b.getProfile(1);case 3:null!=(t=e.sent)&&(r(t),j(t)),W(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(U.useEffect)((function(){!function(){var e=Object(o.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]);var A=function(e){r(Object(c.a)(Object(c.a)({},a),{},Object(te.a)({},e.target.name,e.target.value)))},J=function(e){r(Object(c.a)(Object(c.a)({},a),{},{name:Object(c.a)(Object(c.a)({},a.name),{},Object(te.a)({},e.target.name,e.target.value))}))},R=function(e){r(Object(c.a)(Object(c.a)({},a),{},{address:Object(c.a)(Object(c.a)({},a.address),{},Object(te.a)({},e.target.name,e.target.value))}))},$=function(){var e=Object(o.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.patchProfile(1,a);case 2:(t=e.sent)&&(F("Successfully edited profile. This does not update any database, the response of the update is: ".concat(JSON.stringify(t))),P(!0)),H(),m(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(e,t){"clickaway"!==t&&P(!1)},Y=Object(v.jsx)(U.Fragment,{children:Object(v.jsx)(y.a,{size:"small","aria-label":"close",color:"inherit",onClick:Q,children:Object(v.jsx)(ce.a,{fontSize:"small"})})});return Object(v.jsxs)("div",{children:[Object(v.jsx)(h.a,{sx:{flexGrow:1},children:Object(v.jsx)(B.a,{position:"static",children:Object(v.jsx)(z.a,{children:Object(v.jsx)(k,{})})})}),C&&Object(v.jsx)(h.a,{sx:{width:"100%"},children:Object(v.jsx)(V.a,{})}),Object(v.jsx)(h.a,{display:"flex",justifyContent:"center",alignItems:"center",children:Object(v.jsxs)(h.a,{sx:{width:"90%",m:5},children:[Object(v.jsx)(S.c,{to:"/",style:{textDecoration:"none"},children:Object(v.jsxs)(ne.a,{variant:"extended",size:"medium",color:"secondary","aria-label":"add",sx:{mb:4,textTransform:"capitalize",boxShadow:"none"},children:[Object(v.jsx)(se.a,{sx:{mr:1}}),"Return"]})}),Object(v.jsx)(p.a,{gutterBottom:!0,variant:"h3",component:"div",children:"Profile"}),Object(v.jsx)(D.a,{onChange:J,id:"firstname",label:"First Name",name:"firstname",value:a.name.firstname,variant:"outlined",disabled:!f,fullWidth:!0,sx:{mb:2}}),Object(v.jsx)(D.a,{onChange:J,id:"lastname",label:"Last Name",name:"lastname",value:a.name.lastname,variant:"outlined",disabled:!f,fullWidth:!0,sx:{mb:2}}),Object(v.jsx)(D.a,{onChange:A,id:"email",label:"Email",name:"email",value:a.email,variant:"outlined",disabled:!f,fullWidth:!0,sx:{mb:2}}),Object(v.jsx)(D.a,{onChange:A,id:"username",label:"Username",name:"username",value:a.username,variant:"outlined",disabled:!f,fullWidth:!0,sx:{mb:2}}),Object(v.jsx)(D.a,{onChange:A,id:"password",label:"Password",name:"password",value:a.password,variant:"outlined",disabled:!f,fullWidth:!0,sx:{mb:2}}),Object(v.jsx)(D.a,{onChange:R,id:"number",label:"Number",name:"number",value:a.address.number,variant:"outlined",disabled:!f,fullWidth:!0,sx:{mb:2}}),Object(v.jsx)(D.a,{onChange:R,id:"street",label:"Street",name:"street",value:a.address.street,variant:"outlined",disabled:!f,fullWidth:!0,sx:{mb:2}}),Object(v.jsx)(D.a,{onChange:R,id:"city",label:"City",name:"city",value:a.address.city,variant:"outlined",disabled:!f,fullWidth:!0,sx:{mb:2}}),Object(v.jsx)(D.a,{onChange:R,id:"zipcode",label:"Zipcode",name:"zipcode",value:a.address.zipcode,variant:"outlined",disabled:!f,fullWidth:!0,sx:{mb:2}}),!f&&!C&&Object(v.jsx)(ne.a,{variant:"extended",size:"medium",color:"primary","aria-label":"add",sx:{textTransform:"capitalize",boxShadow:"none"},onClick:function(){return m(!0)},children:"Edit"}),f&&!C&&Object(v.jsx)(ne.a,{variant:"extended",size:"medium",color:"primary","aria-label":"add",sx:{mr:2,textTransform:"capitalize",boxShadow:"none"},onClick:$,children:"Save"}),f&&!C&&Object(v.jsx)(ne.a,{variant:"extended",size:"medium","aria-label":"add",sx:{textTransform:"capitalize",boxShadow:"none"},onClick:function(){r(d),m(!1)},children:"Cancel"})]})}),Object(v.jsx)(ae.a,{open:I,onClose:Q,message:q,action:Y})]})},le=n(17),ue=n(103),de=n(195),je=Object(ue.a)({palette:{primary:{main:"#5a6283"},secondary:{main:"#ffcdd5"}},typography:{fontFamily:"Inter"}});function be(){return Object(v.jsx)(de.a,{theme:je,children:Object(v.jsx)(S.b,{children:Object(v.jsx)(S.a,{children:Object(v.jsx)("div",{children:Object(v.jsxs)(le.c,{children:[Object(v.jsx)(le.a,{exact:!0,path:"/",children:Object(v.jsx)(ee,{})}),Object(v.jsx)(le.a,{path:"/profile",children:Object(v.jsx)(oe,{})})]})})})})})}r.a.render(Object(v.jsx)(be,{}),document.getElementById("root"))}},[[133,1,2]]]);
//# sourceMappingURL=main.fd38bc47.chunk.js.map